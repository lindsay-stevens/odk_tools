# ODK Tools GUI End User Guide


## Introduction
This document is for Windows users that are responsible for designing ODK 
Collect forms, and describes how to use the tool suite GUI for generating the
necessary files for ODK form deployment.


## Interface
The interface presents controls for entering parameters required to run one of
4 tool commands, details of which are in the following sections.

- Generate an XForm from an XLSForm.
- Validate the XForm against the form loading library used in ODK Collect.
- Generate images for each question in an XLSForm.
- Generate site-specific language editions of an XForm and it's images.

General behaviour notes:

- Required parameters are prefixed with a star (*).
- Paths to files can be pasted into the text boxes with or without quotes, or
  selected using the corresponding "Browse..." buttons.
- Once a command is completed, a message indicating which command was run will
  be displayed in the large text box at the bottom of the window.
- Messages or warnings from the last command that was run are displayed in the
  large textbox at the bottom of the window.
- If invalid parameters are provided for a command, a warning popup window will
  be displayed, indicating what the problem is.

Examples of each of the expected inputs and outputs are provided.


## Generate an XForm
This command reads an XLSForm spreadsheet and generates an XForm XML file which
is required for ODK Collect.

- "XLSForm path" is required.
- "XForm output path" is optional. If this is not specified, the XForm is
  created with the same name and location as the XLSForm, but with a ".xml"
  extension. For example an XLSForm named "MY_XFORM.xlsx" would have a XForm
  named "MY_XFORM.xml" created next to it.

Some warning messages may be displayed if the XLSForm appears to have problems,
but in general these are not hard errors that would stop the form working.

## Validate an XForm
This command reads an XForm XML file and simulates loading the file in ODK
Collect.

- "XForm path" is required.
- "Java path" is optional. If this is not specified, the location of Java will
  be determined using the JAVA_HOME system environment variable. If this
  variable is not set, a typical location for Java to be installed on a Windows
  system is be "C:\\Program Files\\Java\\jre7\\bin\\java.exe".
- "ODK_Validate path" is optional. If this is not specified, the location of
  "ODK_Validate.jar" will be assumed to be adjacent to the GUI executable.

Warnings generated by this validation process may need to be resolved for the
XForm to work properly in ODK Collect.


## Generate Images from an XLSForm
This command reads extended information from an XLSForm to generate .png files
for each question and each language.

- "XLSForm path" is required.

Warnings generated by this may relate to layout issues, for example if the
font is too large it may result in text wider than the base image size. If
there are logo or nested images referred to in the XLSForm which could not be
located, an error and the name of the file will be displayed.

The specification for the extended information required in the XLSForm is
detailed in the "XLSForm Images Spec" document.


## Generate Editions for an XForm
This command reads a spreadsheet specifying which languages each study site
requires, and generates a zip file with just those languages included.

Additionally, if an item named "SID" is found in the XForm, the site code
will be appended to the default value (e.g. "1309-" becomes "1309-61221-").

- "XForm path" is required.
- "Site Languages path" is required.
- "7zip path" is optional. If this is not specified, the default install
  location of "C:\\Program Files\\7-zip\\7z.exe" is assumed.

Messages generated by this process are detailed, indicating for each site which
language is being processed for them and whether the SID element was edited.

It is assumed that in the same location as the XForm, there is a folder named
to match the XForm file name, e.g. "My_XForm.xml" and "My_XForm-media", the
latter of which contains the question images.

The "Site Languages" sheet is assumed to have the following structure. In the
first sheet, first column, from row 2 onwards, the language names for each
site separated by a forward slash, e.g. "English/Spanish/German". In the first
sheet, third column, from row 2 onwards, the site code for each site, e.g.
"61221". The specified languages must match the language names used in the
XLSForm.
